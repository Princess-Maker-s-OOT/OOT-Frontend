
# ğŸŒˆ OOT (Outfit Of Today) â€“ ì˜ë¥˜ ê±°ë˜ & ë””ì§€í„¸ ì˜·ì¥ í”Œë«í¼ | Frontend

Next.js ê¸°ë°˜ì˜ **ì˜ë¥˜ ê±°ë˜ + ë””ì§€í„¸ ì˜·ì¥ ê´€ë¦¬** ì›¹ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ì˜· ë“±ë¡, íŒë§¤, ê¸°ë¶€, ì‹¤ì‹œê°„ ì±„íŒ…, ê²°ì œê¹Œì§€ í•œ ë²ˆì—!

![í”„ë¡œì íŠ¸ ì»¤ë²„ ì´ë¯¸ì§€](<á„‘á…³á„…á…©á„Œá…¦á†¨á„á…³ á„á…¥á„‡á…¥ á„‹á…µá„†á…µá„Œá…µ á„á…¬á„Œá…©á†¼.png>)

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ›ï¸ ê±°ë˜
- íŒë§¤ê¸€ ë“±ë¡/ìˆ˜ì •/ì‚­ì œ
- ì´ë¯¸ì§€ ì—…ë¡œë“œ (S3 Presigned URL)
- ì¹´í…Œê³ ë¦¬Â·ê°€ê²© ì„¤ì •
- ì‹¤ì‹œê°„ ì±„íŒ… (WebSocket + STOMP)
- í† ìŠ¤ í˜ì´ë¨¼ì¸  ê²°ì œ ì—°ë™

### ğŸ‘• ë””ì§€í„¸ ì˜·ì¥
- ì˜· ë“±ë¡(ì‚¬ì´ì¦ˆ/ìƒ‰ìƒ/ì¹´í…Œê³ ë¦¬)
- ê³µê°œ/ë¹„ê³µê°œ ì„¤ì • (ì†Œì…œ ì˜·ì¥)
- ì°©ìš© ë¹ˆë„ ê¸°ë°˜ í†µê³„ ëŒ€ì‹œë³´ë“œ
- ì¹´í…Œê³ ë¦¬ë³„ ë¶„í¬ ì‹œê°í™”

### ğŸ ê¸°ë¶€
- ì¹´ì¹´ì˜¤ë§µ ê¸°ë°˜ ê¸°ë¶€ì„¼í„° ê²€ìƒ‰
- ê¸°ë¶€ ë‚´ì—­ í™•ì¸

### ğŸ‘¤ ì‚¬ìš©ì
- íšŒì›ê°€ì…Â·ë¡œê·¸ì¸(JWT + OAuth2 Google)
- í”„ë¡œí•„ ìˆ˜ì •
- ë¡œê·¸ì¸ ë””ë°”ì´ìŠ¤ ê´€ë¦¬
- ê³„ì • ë³´ì•ˆ ì„¤ì •

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

**Frontend**
- Next.js 15.3.3 (App Router)
- TypeScript
- Tailwind CSS
- shadcn/ui
- Recharts

**API & Infra**
- REST API + WebSocket(STOMP)
- JWT ì¸ì¦
- Kakao Maps API
- Toss Payments
- AWS S3 ì´ë¯¸ì§€ ì—…ë¡œë“œ

---

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°

```text
oot/
â”œâ”€â”€ app/                      # Next.js App Router Pages
â”‚   â”œâ”€â”€ admin/               # ê´€ë¦¬ì í˜ì´ì§€
â”‚   â”œâ”€â”€ auth/                # Google OAuth Callback ë“±
â”‚   â”œâ”€â”€ chat/                # ì±„íŒ… ê¸°ëŠ¥
â”‚   â”œâ”€â”€ closets/             # ì˜·ì¥ ê´€ë¦¬
â”‚   â”œâ”€â”€ clothes/             # ì˜· ê´€ë¦¬
â”‚   â”œâ”€â”€ donation-centers/    # ê¸°ë¶€ì„¼í„° ê²€ìƒ‰
â”‚   â”œâ”€â”€ my/                  # ë§ˆì´í˜ì´ì§€
â”‚   â”œâ”€â”€ payment/             # ê²°ì œ
â”‚   â”œâ”€â”€ sale-posts/          # íŒë§¤ê¸€ ëª©ë¡/ë“±ë¡/ìƒì„¸
â”‚   â””â”€â”€ signup/              # íšŒì›ê°€ì…
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ my/                  # ë§ˆì´í˜ì´ì§€ UI
â”‚   â”œâ”€â”€ sale-post/           # íŒë§¤ê¸€ UI
â”‚   â””â”€â”€ ui/                  # ê³µí†µ UI(shadcn)
â”‚
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ use-auth.ts
â”‚   â”œâ”€â”€ use-toast.ts
â”‚   â””â”€â”€ useWebSocket.ts
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ api/                 # API Client
â”‚   â”œâ”€â”€ types/               # TypeScript íƒ€ì… ì •ì˜
â”‚   â””â”€â”€ utils/               # Utilities
â”‚
â””â”€â”€ public/                  # Static Assets
```

---

## ğŸš€ ì‹œì‘í•˜ê¸°

### ìš”êµ¬ ì‚¬í•­
- Node.js 18+
- pnpm (ê¶Œì¥) ë˜ëŠ” npm
- Backend ì„œë²„ (http://localhost:8080)

### ì„¤ì¹˜

```bash
pnpm install
```

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env.local` íŒŒì¼ì„ ìƒì„±í•˜ì—¬ ì•„ë˜ ë‚´ìš© ì…ë ¥:

```env
NEXT_PUBLIC_API_BASE_URL="http://localhost:8080"
FRONTEND_URL="http://localhost:3000"
NEXT_PUBLIC_KAKAO_MAPS_APP_KEY="your-kakao-key"
NEXT_PUBLIC_TOSS_CLIENT_KEY="your-toss-client-key"
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"
```

### ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
pnpm dev
# http://localhost:3000 ì ‘ì†
```

### í”„ë¡œë•ì…˜ ë¹Œë“œ

```bash
pnpm build
pnpm start
```

---

## ğŸ”§ API í”„ë¡ì‹œ ì„¤ì • (Next.js rewrites)

`next.config.mjs`ì—ì„œ CORS ë¬¸ì œ í•´ê²°ì„ ìœ„í•´ rewrites ì‚¬ìš©:

```js
async rewrites() {
  return [
    {
      source: '/api/v1/:path*',
      destination: 'http://localhost:8080/api/v1/:path*',
    },
  ]
}
```
í”„ë¡ íŠ¸ì—”ë“œëŠ” í•­ìƒ `/api/v1/...` í˜•ì‹ìœ¼ë¡œ í˜¸ì¶œí•˜ë©´ ë©ë‹ˆë‹¤.

---

## ğŸ“± ì£¼ìš” í˜ì´ì§€

| ê²½ë¡œ                    | ì„¤ëª…             |
|-------------------------|------------------|
| `/`                     | ë©”ì¸             |
| `/login`                | ë¡œê·¸ì¸           |
| `/signup`               | íšŒì›ê°€ì…         |
| `/sale-posts`           | íŒë§¤ê¸€ ëª©ë¡      |
| `/sale-posts/new`       | íŒë§¤ê¸€ ë“±ë¡      |
| `/closets`              | ê³µê°œ ì˜·ì¥ ëª©ë¡   |
| `/clothes/new`          | ì˜· ë“±ë¡          |
| `/my`                   | ë§ˆì´í˜ì´ì§€       |
| `/chat`                 | ì±„íŒ… ëª©ë¡        |
| `/chat/[id]`            | ì±„íŒ… ìƒì„¸        |
| `/donation-centers/search` | ê¸°ë¶€ì„¼í„° ê²€ìƒ‰ |

---

## ğŸ” ì¸ì¦ ë°©ì‹

- JWT ê¸°ë°˜ ë¡œê·¸ì¸/ì¸ì¦
- AccessToken / RefreshToken â†’ localStorage ì €ì¥
- 401 ì‘ë‹µ ì‹œ ìë™ ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬
- Google OAuth2 ë¡œê·¸ì¸ ì§€ì›

---

## ğŸ¨ UX/UI Features

- ì™„ì „ ë°˜ì‘í˜• UI
- shadcn/ui ê¸°ë°˜ ë””ìì¸ ì‹œìŠ¤í…œ
- Skeleton ë¡œë”©
- Toast ì•Œë¦¼ ì‹œìŠ¤í…œ
- Recharts ë°ì´í„° ì‹œê°í™”

---

## ğŸ§ª ì£¼ìš” ì»´í¬ë„ŒíŠ¸

- **useAuth**: ë¡œê·¸ì¸ ìƒíƒœ ê´€ë¦¬, í† í° ì—…ë°ì´íŠ¸ & ì‚¬ìš©ì ì •ë³´ ë™ê¸°í™”
- **apiClient**: Authorization í—¤ë” ìë™ ì¶”ê°€, API ì—ëŸ¬ ê³µí†µ ì²˜ë¦¬
- **useWebSocket**: STOMP + SockJS ì—°ê²° ë° ì±„íŒ… ì´ë²¤íŠ¸ ê´€ë¦¬
- **MyDashboard**: ì¹´í…Œê³ ë¦¬/ì°©ìš© ë¹ˆë„ ê·¸ë˜í”„ ì‹œê°í™”

---

## âš ï¸ ì•Œë ¤ì§„ ì œí•œì‚¬í•­

- Google OAuthëŠ” localhost ê¸°ë°˜ìœ¼ë¡œ ê¸°ë³¸ ì„¤ì •ë¨
- ì´ë¯¸ì§€ ì—…ë¡œë“œ â†’ AWS S3 Presigned URL ë°©ì‹
- WebSocket â†’ STOMP + SockJS ì‚¬ìš©

---


---

## ğŸ› ï¸ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…: CORS ì—ëŸ¬ í•´ê²°ë²•

### ì¦ìƒ
- API í˜¸ì¶œ ì‹œ 'CORS policy' ê´€ë ¨ ì—ëŸ¬ê°€ ë°œìƒí•˜ê±°ë‚˜, ë¸Œë¼ìš°ì € ì½˜ì†”ì— 'Blocked by CORS policy' ë©”ì‹œì§€ê°€ ëœ¨ëŠ” ê²½ìš°

### ì›ì¸
- í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œê°€ ì„œë¡œ ë‹¤ë¥¸ ë„ë©”ì¸/í¬íŠ¸ì—ì„œ ë™ì‘í•  ë•Œ, ë¸Œë¼ìš°ì €ê°€ ë³´ì•ˆìƒ API ìš”ì²­ì„ ì°¨ë‹¨

### í•´ê²°ë²•
1. **Next.js í”„ë¡ì‹œ(rewrites) ì‚¬ìš©**
   - `next.config.mjs`ì— ì•„ë˜ì™€ ê°™ì´ ì„¤ì •:
     ```js
     async rewrites() {
       return [
         {
           source: '/api/v1/:path*',
           destination: 'http://localhost:8080/api/v1/:path*',
         },
       ]
     }
     ```
   - í”„ë¡ íŠ¸ì—”ë“œì—ì„œ `/api/v1/...`ë¡œ ìš”ì²­í•˜ë©´ Next.jsê°€ ë°±ì—”ë“œë¡œ í”„ë¡ì‹œí•´ì¤Œ

2. **ë°±ì—”ë“œ CORS ì„¤ì •**
   - Spring Boot ì˜ˆì‹œ:
     ```java
     @Configuration
     public class CorsConfig {
         @Bean
         public WebMvcConfigurer corsConfigurer() {
             return new WebMvcConfigurer() {
                 @Override
                 public void addCorsMappings(CorsRegistry registry) {
                     registry.addMapping("/**")
                         .allowedOrigins("http://localhost:3000")
                         .allowedMethods("GET", "POST", "PUT", "DELETE", "OPTIONS")
                         .allowedHeaders("*")
                         .allowCredentials(true);
                 }
             };
         }
     }
     ```
   - ë°˜ë“œì‹œ í”„ë¡ íŠ¸ì—”ë“œ ë„ë©”ì¸(`http://localhost:3000`)ì„ í—ˆìš©í•´ì•¼ í•¨

3. **OPTIONS preflight í—ˆìš©**
   - ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ ë³´ë‚´ëŠ” OPTIONS ìš”ì²­ì—ë„ CORS í—¤ë”ê°€ í¬í•¨ë˜ì–´ì•¼ í•¨

### ê¸°íƒ€ íŒ
- ê°œë°œ í™˜ê²½ì—ì„œëŠ” localhostë§Œ í—ˆìš©í•˜ë©´ ë¨
- ë°°í¬ ì‹œì—ëŠ” ì‹¤ì œ ë„ë©”ì¸(ì˜ˆ: https://oot.com)ë„ CORS í—ˆìš© ëª©ë¡ì— ì¶”ê°€

---

## ğŸ“„ License

MIT License